

  <nav class="navbar navbar-expand-lg navbar-light fixed-top " id="mainNav">
    <div class="container">
  
      
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" ><Table>Accueil</Table></a>
            </li>
    
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" >Mon Compte</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" routerLink='/home'><i class="fa fa-power-off"></i> Deconnexion</a>
            </li>
    
  
  
         
        </ul>
      </div>
    </div>
    <div class="navbar-brand js-scroll-trigger">Bonjour, {{Intervenantconnected.prenom}} {{Intervenantconnected.nom}}</div>
  </nav>
  
  
  <header class="masthead text-center  d-flex " id="interlist">
      
  <div class="container-fluid my-auto" style=" height:97%; ">
      <div class="row">
  <div class="col-lg-2 col-sm-2 col-xs-2 col-md-2 left_col scroll-view " style="position:fixed; height:100%; ">
      <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
        
        <div class="site_title"><i class="fa fa-paw"></i> <span>Loncoto</span>
        </div>
           
    
        <div class="menu_section">
          <h3>General</h3>
          <ul class="nav side-menu">
            <li>
              <a routerLink='/intervenant'>
                <i class="fa fa-home"></i> Tableau de bord
                <span class="fa "></span>
              </a>
            </li>
            <li>
              <a routerLink='/intervenant/planning'>
                <i class="fa fa-edit"></i> Mon Planning
                <span class="fa "></span>
              </a>
            </li>
            <li>
              <a routerLink='/intervenant/interventions'>
                <i class="fa fa-table"></i>Mes Interventions
                <span class="fa "></span>
              </a>
            </li>
           
           
          </ul>
        </div>
    
        <div class="menu_section">
          <h3>Live On</h3>
          <ul class="nav side-menu">
           
            <li>
              <a>
                <i class="fa fa-windows"></i> Extras
                <span class="fa "></span>
              </a>
            </li>
           
          </ul>
        </div>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
      </div>
    </div>
   
  
  
      <!-- /sidebar menu -->


      <div class="col-lg-10 col-sm-10 col-xs-10 col-md-10 placeenhaut">

        <div class="panel panel-danger">
          <div class="page-title">
            <div class="title_left">
              <h3 class="text-white"> Interventions Enregistrées
              </h3>
            </div>

            <div class="title_right">
              <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
                <div class="input-group">
                  <input type="text" class="form-control" placeholder="Search for...">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="button">Go!</button>
                  </span>
                </div>
              </div>
            </div>
          </div>
          <div class="panel-body">
            <div class="col-md-12 col-sm-12 col-xs-12">
              <div class="x_panel" style="height: 100%;">
                <div class="x_title">
                  <h2> Interventions
                   
                  </h2>
      
                  <div class="clearfix"></div>
                </div>
                <div class="x_content" style="height:650px;overflow:auto">

                  <table class="table table-striped bordered" style="overflow:auto">
                    <thead>
                      <tr>
                        <th>Site</th>
                        <th>DatePrevu</th>
                        <th>DateEffectue</th>
                        <th>Statut</th>
                        <th>Commentaire</th>
                        <th>Matériel</th>
                        <th>Intervenant</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let intervention of interventionsSubject |async">
                        <td>{{intervention.materiel.lesite.nom}}</td>
                        <td>{{intervention.start}}</td>
                        <td>{{intervention.end}}</td>
                        <td>{{intervention.statut}}</td>
                        <td>{{intervention.commentaire}}</td>
                        <td>{{intervention.materiel.article.marque}}</td>
                        <td>{{intervention.intervenant.nom}}</td>
                       
                        <td>
                          <a type="button" (click)="details(intervention.id)" class=" btn-primary btn-xs" pageScroll href="#editer">
                            <i class="fa fa-user"> </i> Modifier
                          </a>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="row">
                    <div class="col-lg-7"></div>
                    <div class="col-lg-5">
                      <pagination style="margin-top: 0px;padding-top: 0px;padding-bottom: 0px;border-bottom: 0px" [totalItems]="totalItems" [ngModel]="currentPage"
                        [itemsPerPage]="taillePage" (pageChanged)="pageChanged($event)"></pagination>
                    </div>
                  </div>

                </div>
              </div>
            </div>


          </div>
        </div>

      </div>
    </div>
  </div>
</header>
<!--
<section class="bg-primary backgroundallpage" id="editer">
  <div class="col-lg-2 col-sm-2 col-xs-2 col-md-2"></div>
  <div class="col-lg-10 col-sm-10 col-xs-10 col-md-10 ">
<app-edit-interventions></app-edit-interventions>
  </div>
</section> -->

<section class=" backgroundallpage fondintervention" id="editer">
  <div class="col-lg-2 col-sm-2 col-xs-2 col-md-2"></div>
  <div class="col-lg-10 col-sm-10 col-xs-10 col-md-10 ">
    <div class="x_title">
      <h1>Compte-rendu
        <small>détail</small>
      </h1>
    </div>

    <div class="col-lg-7" style="background-color: rgba(255, 255, 255, 0.7) ">
      <div class="col-lg-12 mx-auto  ">
        <div class="well profile_view">
          <div class="col-sm-12 col-lg-12">
            <h3><I><strong>Fiche-Intervention n° {{currentIntervention.id}}</strong></I></h3> 
              <div class="x_content">
                  <table class="table " >
                      <tbody>
                          <tr>
                              <td>Date : </td><td>{{currentIntervention.start}}</td>
                          </tr>
                          <tr>
                              <td>Statut : </td><td>{{currentIntervention.statut}}</td>
                          </tr>
                          <tr>
                              <td>Intervenant : </td><td>{{currentIntervention.intervenant.prenom}} {{currentIntervention.intervenant.nom}}</td>
                          </tr>
                        <tr>
                          <td>Site : </td><td>{{currentIntervention.materiel.lesite.nom}}</td>
                        </tr>
                        <tr>
                            <td>Client : </td><td>{{currentIntervention.materiel.client.nom}}</td>
                          </tr>
                        <tr>
                            <td>Materiel - serial : </td><td>{{currentIntervention.materiel.serialID}} </td>
                        </tr>
                        <tr>
                            <td>Materiel - modèle: </td><td>{{currentIntervention.materiel.article.marque}} - {{currentIntervention.materiel.article.nom}}</td>
                        </tr>
                        <tr>
                            <td>Commentaire:</td><td>{{currentIntervention.commentaire}}</td>
                        </tr>
                     
                      </tbody>
                    </table>

              </div>

          </div>
          <div class="col-xs-12 col-lg-12 bottom text-center" style="padding-top: 10%">


            <div class="col-xs-12 col-sm-6 col-lg-12 emphasis">

              <button type="button" class="btn btn-danger btn-xs">
                <i class="fa fa-user"> </i><i class="fa fa-comments-o" (click)="envoyerFormulaire(currentIntervention.id)"></i>Modifier</button>

              <button type="button" class="btn btn-info btn-xs" (click)="removeIntervention()" pageScroll href="#tableaux">
                <i class="fa fa-user"></i> <i class="fa fa-comments-o"></i>Supprimer</button>

              <button type="button" class="btn btn-primary btn-xs" pageScroll href="#tableauinter">
                <i class="fa fa-user"> </i>Revenir à la liste</button>

            </div>

          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-5"  >
      <div class="col-lg-8 mx-auto ">

        <div class=" well ">

          <div class="panel panel-danger">
             <h3><I><strong>Modifier/Créer une nouvelle intervention ?</strong></I></h3>
              
            
            <div class="panel-body">


              <form>
                <input type="hidden" name="id" id="id" [(ngModel)]="currentIntervention.id" />

                <div class="form-group">
                  <label>Materiel : </label>
                  <table style="background-color: rgba(255, 255, 255, 0.7) ">Site
                    :{{currentIntervention.materiel.lesite.nom}} - {{currentIntervention.materiel.article.marque}} -- {{currentIntervention.materiel.article.nom}}
                    </table>
                </div>

            
                <div class="form-group">
                    <label>Date : </label>
                    <table style="background-color: rgba(255, 255, 255, 0.7) ">{{currentIntervention.start}}
                      </table>
                  </div>

                  <div class="form-group">
                      <label>Statut : </label>
                      <select name="statut" [(ngModel)]="currentIntervention.statut">
                        <option value="En Attente">En Attente</option>
                        <option value="Reprogrammée">Reprogrammée</option>
                        <option value="Terminée">Terminée</option>
                      </select>
                    </div>

                <div class="form-group">
                  <label>Intervenant : </label>
                  <table style="background-color: rgba(255, 255, 255, 0.7) ">{{Intervenantconnected.prenom}} {{Intervenantconnected.nom}} 
                  </table>
                </div>

         
                <div class="form-group">
                    <label>Client : </label>
                    <table style="background-color: rgba(255, 255, 255, 0.7) ">{{currentIntervention.materiel.client.nom}}</table>
                  </div>

              <div class="form-group">
                  <label>Materiel - Serial:</label>
                  <table style="background-color: rgba(255, 255, 255, 0.7) ">{{currentIntervention.materiel.serialID}}</table>
                </div>


              <div class="form-group">
                    <label>Commentaire</label>
                    <input type="text" class="form-control" name="commentaire" id="commentaire" [(ngModel)]="currentIntervention.commentaire"
                 />
                  </div>
  
                 



                  
               


                


            

                <!--
                <div class="form-group">
                  <label>titre</label>
                  <input type="text" class="form-control" name="title" id="title" [(ngModel)]="currentIntervention.title" 
                    />
                </div>-->




                <button class="btn btn-warning" (click)="cancelIntervention()">annuler</button>
                <button class="btn btn-sucess" (click)="saveIntervention()" pageScroll href="#tableauinter">save/créer</button>
              </form>


            </div>
          </div>
        </div>


      </div>
    </div>


  </div>
</section>